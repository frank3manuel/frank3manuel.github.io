<html>
	<body onload="startTimer()">
		<script>

			function randomize() {
				var numberOfCharacters = document.getElementById("numberOfCharacters").value;
				var chars = document.getElementById("characters").value;
				var s = "";
				for (let i = 0; i < numberOfCharacters; i++) {
					s += chars.charAt(getRandomInt(chars.length-1))
				}
				document.getElementById("three").innerHTML = s;
			}
			var interval = null;

			function startTimer() {
				stopTimer();
				var seconds = document.getElementById("seconds").value;
				interval = setInterval(randomize, seconds * 1000)
				return interval;
			}

			function stopTimer() {
				clearInterval(interval)
			}

			function getRandomInt(max) {
			 	return Math.floor(Math.random() * max);
			}

		</script>
		<h1 id="three" style="font-family: 'ヒラギノ角ゴ Pro W3';">The three characters will appear here</h1>
		<button onclick="randomize()">randomize</button> 
		<br/> Number of characters to display: <input id="numberOfCharacters" size="2" value="3"/>
		<br/> Auto-change every <input id="seconds" size="1" value="6"/> seconds. <button onclick="startTimer()">Start</button> <button onclick="stopTimer()">Stop</button> 
		<br/> Characters to rotate: <textarea id="characters">あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわを</textarea>
	</body>
</html>